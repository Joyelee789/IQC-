# IQC æ•ˆç‡ç®¡ç†ç³»çµ± - æ‰“åŒ…æŒ‡å—

## ğŸ“‹ ç›®éŒ„
1. [æ‰“åŒ…å‰æº–å‚™](#æ‰“åŒ…å‰æº–å‚™)
2. [æ‰“åŒ…æ­¥é©Ÿ](#æ‰“åŒ…æ­¥é©Ÿ)
3. [æ¸¬è©¦æ‰“åŒ…çµæœ](#æ¸¬è©¦æ‰“åŒ…çµæœ)
4. [åˆ†ç™¼çµ¦ä½¿ç”¨è€…](#åˆ†ç™¼çµ¦ä½¿ç”¨è€…)
5. [ç–‘é›£æ’è§£](#ç–‘é›£æ’è§£)

---

## ğŸ› ï¸ æ‰“åŒ…å‰æº–å‚™

### 1. ç¢ºèªç’°å¢ƒ

**å¿…è¦æ¢ä»¶:**
- Windows 10 æˆ–æ›´æ–°ç‰ˆæœ¬
- Python 3.8 æˆ–æ›´æ–°ç‰ˆæœ¬
- è‡³å°‘ 2GB å¯ç”¨ç£ç¢Ÿç©ºé–“

### 2. å®‰è£ä¾è³´å¥—ä»¶

é–‹å•Ÿå‘½ä»¤æç¤ºå­—å…ƒ (CMD) æˆ– PowerShellï¼ŒåŸ·è¡Œ:

```bash
pip install -r requirements_build.txt
```

æˆ–æ‰‹å‹•å®‰è£:

```bash
pip install streamlit pandas numpy plotly openpyxl xlsxwriter Pillow altair pyinstaller
```

### 3. æª¢æŸ¥å¿…è¦æª”æ¡ˆ

ç¢ºä¿ä»¥ä¸‹æª”æ¡ˆéƒ½åœ¨åŒä¸€è³‡æ–™å¤¾ä¸­:

```
IQC efficiency/
â”œâ”€â”€ iqc_monitor_V22.py        â† ä¸»ç¨‹å¼
â”œâ”€â”€ run_app.py                 â† å•Ÿå‹•å™¨
â”œâ”€â”€ iqc_app.spec              â† PyInstaller é…ç½®
â”œâ”€â”€ build.bat                  â† è‡ªå‹•æ‰“åŒ…è…³æœ¬
â”œâ”€â”€ check_before_build.bat     â† æª¢æŸ¥è…³æœ¬
â”œâ”€â”€ ä½¿ç”¨èªªæ˜.txt               â† ä½¿ç”¨èªªæ˜
â”œâ”€â”€ IQC1.png                   â† åœ–ç‰‡è³‡æº
â”œâ”€â”€ IQC2.png                   â† åœ–ç‰‡è³‡æº
â””â”€â”€ IQC3.png                   â† åœ–ç‰‡è³‡æº
```

---

## ğŸš€ æ‰“åŒ…æ­¥é©Ÿ

### æ–¹æ³•ä¸€: è‡ªå‹•æ‰“åŒ… (æ¨è–¦)

1. **åŸ·è¡Œæª¢æŸ¥è…³æœ¬**
   ```
   é›™æ“Š: check_before_build.bat
   ```
   - æª¢æŸ¥æ‰€æœ‰å¿…è¦æ¢ä»¶æ˜¯å¦æ»¿è¶³
   - å¦‚æœ‰å•é¡Œæœƒæç¤ºä¿®å¾©æ–¹æ³•

2. **åŸ·è¡Œæ‰“åŒ…è…³æœ¬**
   ```
   é›™æ“Š: build.bat
   ```
   - è‡ªå‹•æ¸…ç†èˆŠæª”æ¡ˆ
   - åŸ·è¡Œ PyInstaller æ‰“åŒ…
   - æ•´ç†ç™¼ä½ˆæª”æ¡ˆ
   - ç´„éœ€ 5-10 åˆ†é˜

3. **ç­‰å¾…å®Œæˆ**
   - ä¿æŒè¦–çª—é–‹å•Ÿ
   - ä¸è¦ä¸­æ–·æ‰“åŒ…éç¨‹
   - å®Œæˆå¾Œæœƒé¡¯ç¤ºæˆåŠŸè¨Šæ¯

### æ–¹æ³•äºŒ: æ‰‹å‹•æ‰“åŒ…

1. **é–‹å•Ÿå‘½ä»¤æç¤ºå­—å…ƒ**
   åœ¨å°ˆæ¡ˆè³‡æ–™å¤¾ä¸­æŒ‰ä½ `Shift` + å³éµï¼Œé¸æ“‡ã€Œåœ¨æ­¤è™•é–‹å•Ÿ PowerShell è¦–çª—ã€

2. **æ¸…ç†èˆŠæª”æ¡ˆ (å¯é¸)**
   ```bash
   rmdir /s /q build
   rmdir /s /q dist
   ```

3. **åŸ·è¡Œæ‰“åŒ…å‘½ä»¤**
   ```bash
   pyinstaller iqc_app.spec
   ```

4. **ç­‰å¾…å®Œæˆ**
   æ‰“åŒ…éç¨‹å¯èƒ½éœ€è¦ 5-10 åˆ†é˜

---

## ğŸ§ª æ¸¬è©¦æ‰“åŒ…çµæœ

### 1. æª¢æŸ¥æª”æ¡ˆ

æ‰“åŒ…å®Œæˆå¾Œï¼Œæª¢æŸ¥ `dist` è³‡æ–™å¤¾:

```
dist/
â””â”€â”€ IQCæ•ˆç‡ç®¡ç†ç³»çµ±.exe  (ç´„ 200-300MB)
```

### 2. æ¸¬è©¦åŸ·è¡Œ

1. é€²å…¥ `dist` è³‡æ–™å¤¾
2. é›™æ“Š `IQCæ•ˆç‡ç®¡ç†ç³»çµ±.exe`
3. æª¢æŸ¥:
   - âœ… é»‘è‰²è¦–çª—å‡ºç¾ä¸¦é¡¯ç¤ºå•Ÿå‹•è¨Šæ¯
   - âœ… ç€è¦½å™¨è‡ªå‹•é–‹å•Ÿ
   - âœ… Streamlit ä»‹é¢æ­£å¸¸é¡¯ç¤º
   - âœ… å¯ä»¥ä¸Šå‚³æª”æ¡ˆä¸¦è™•ç†
   - âœ… æ‰€æœ‰åŠŸèƒ½æ­£å¸¸é‹ä½œ

### 3. å®Œæ•´åŠŸèƒ½æ¸¬è©¦

- ä¸Šå‚³æ¸¬è©¦è³‡æ–™
- åŸ·è¡Œè³‡æ–™è™•ç†
- æŸ¥çœ‹æ‰€æœ‰åˆ†æé é¢
- æ‡‰ç”¨æ—¥æœŸç¯©é¸
- åŒ¯å‡º Excel å ±è¡¨
- æª¢æŸ¥ç³»çµ±è¨­å®š

---

## ğŸ“¦ åˆ†ç™¼çµ¦ä½¿ç”¨è€…

### æ–¹å¼ä¸€: ZIP å£“ç¸®åŒ… (æ¨è–¦)

1. **å»ºç«‹ç™¼ä½ˆè³‡æ–™å¤¾**
   ```
   IQCæ•ˆç‡ç®¡ç†ç³»çµ±_v1.0/
   â”œâ”€â”€ IQCæ•ˆç‡ç®¡ç†ç³»çµ±.exe
   â”œâ”€â”€ ä½¿ç”¨èªªæ˜.txt
   â””â”€â”€ ç¯„ä¾‹æª”æ¡ˆ/
       â”œâ”€â”€ IQC_Reportç¯„ä¾‹.xlsx
       â”œâ”€â”€ PCBå»ºæª”æ˜ç´°ç¯„ä¾‹.xlsx
       â”œâ”€â”€ PCBæ¨™æº–å·¥æ™‚ç¯„ä¾‹.xlsx
       â””â”€â”€ é¡å¤–ä»»å‹™ç¯„ä¾‹.xlsx
   ```

2. **å£“ç¸®æˆ ZIP**
   - é¸æ“‡æ•´å€‹è³‡æ–™å¤¾
   - å³éµ â†’ å‚³é€åˆ° â†’ å£“ç¸®çš„(zipped)è³‡æ–™å¤¾
   - å‘½åç‚º: `IQCæ•ˆç‡ç®¡ç†ç³»çµ±_v1.0.zip`

3. **åˆ†ç™¼**
   - é€éå…¬å¸å…§ç¶²åˆ†äº«
   - æˆ–é€é USB éš¨èº«ç¢Ÿ

### æ–¹å¼äºŒ: ç¶²è·¯å…±äº«è³‡æ–™å¤¾

1. å°‡ `dist` è³‡æ–™å¤¾æ”¾åˆ°å…¬å¸å…§ç¶²å…±äº«ä½ç½®
2. ä½¿ç”¨è€…å¯ä»¥ç›´æ¥åŸ·è¡Œæˆ–è¤‡è£½åˆ°æœ¬æ©Ÿ

### ä½¿ç”¨è€…æ“ä½œæ­¥é©Ÿ

æä¾›çµ¦ä½¿ç”¨è€…çš„èªªæ˜:

```
1. è§£å£“ç¸® ZIP æª”æ¡ˆåˆ°ä»»æ„ä½ç½®
2. é€²å…¥è§£å£“ç¸®å¾Œçš„è³‡æ–™å¤¾
3. é›™æ“Š "IQCæ•ˆç‡ç®¡ç†ç³»çµ±.exe"
4. ç­‰å¾…ç€è¦½å™¨è‡ªå‹•é–‹å•Ÿ
5. é–‹å§‹ä½¿ç”¨!

æ³¨æ„:
â€¢ ç¬¬ä¸€æ¬¡åŸ·è¡Œå¯èƒ½éœ€è¦ 10-20 ç§’å•Ÿå‹•
â€¢ ä¸è¦ç§»å‹•æˆ–åˆªé™¤åŸ·è¡Œæª”
â€¢ åŸ·è¡Œæ™‚è«‹å‹¿é—œé–‰é»‘è‰²å‘½ä»¤åˆ—è¦–çª—
```

---

## ğŸ”§ ç–‘é›£æ’è§£

### å•é¡Œ 1: æ‰“åŒ…æ™‚å‡ºç¾ "ModuleNotFoundError"

**åŸå› :** ç¼ºå°‘å¿…è¦çš„ Python å¥—ä»¶

**è§£æ±ºæ–¹æ³•:**
```bash
pip install -r requirements_build.txt
```

### å•é¡Œ 2: æ‰“åŒ…å¾Œæª”æ¡ˆéå¤§ (>500MB)

**åŸå› :** åŒ…å«äº†ä¸å¿…è¦çš„å¥—ä»¶

**è§£æ±ºæ–¹æ³•:**
åœ¨ [`iqc_app.spec`](iqc_app.spec ) çš„ `excludes` åˆ—è¡¨ä¸­æ·»åŠ æ›´å¤šä¸éœ€è¦çš„å¥—ä»¶:

```python
excludes = [
    'matplotlib',
    'scipy',
    'sklearn',
    'IPython',
    'jupyter',
    'notebook',
    'pytest',
    'setuptools',
]
```

### å•é¡Œ 3: åŸ·è¡Œæª”è¢«é˜²æ¯’è»Ÿé«”èª¤åˆ¤

**åŸå› :** PyInstaller æ‰“åŒ…çš„åŸ·è¡Œæª”æœ‰æ™‚æœƒè¢«èª¤åˆ¤ç‚ºç—…æ¯’

**è§£æ±ºæ–¹æ³•:**
1. å°‡åŸ·è¡Œæª”æ·»åŠ åˆ°é˜²æ¯’è»Ÿé«”çš„ç™½åå–®
2. æˆ–ä½¿ç”¨ `--noupx` é¸é …é‡æ–°æ‰“åŒ…:
   ```bash
   pyinstaller --noupx iqc_app.spec
   ```

### å•é¡Œ 4: åŸ·è¡Œæ™‚å‡ºç¾ "Failed to execute script"

**åŸå› :** ç¼ºå°‘ä¾è³´æª”æ¡ˆæˆ–é…ç½®éŒ¯èª¤

**è§£æ±ºæ–¹æ³•:**
1. æª¢æŸ¥ [`iqc_app.spec`](iqc_app.spec ) ä¸­çš„ `datas` æ˜¯å¦åŒ…å«æ‰€æœ‰å¿…è¦æª”æ¡ˆ
2. ä½¿ç”¨ `--debug=all` é‡æ–°æ‰“åŒ…æŸ¥çœ‹è©³ç´°éŒ¯èª¤:
   ```bash
   pyinstaller --debug=all iqc_app.spec
   ```

### å•é¡Œ 5: Streamlit é é¢é¡¯ç¤ºç©ºç™½

**åŸå› :** Streamlit è³‡æ–™æª”æ¡ˆæ²’æœ‰æ­£ç¢ºæ‰“åŒ…

**è§£æ±ºæ–¹æ³•:**
ç¢ºä¿ [`iqc_app.spec`](iqc_app.spec ) ä¸­åŒ…å«:
```python
datas += collect_data_files('streamlit')
hiddenimports += collect_submodules('streamlit')
```

### å•é¡Œ 6: åœ–è¡¨ä¸é¡¯ç¤º

**åŸå› :** Plotly è³‡æ–™æª”æ¡ˆç¼ºå¤±

**è§£æ±ºæ–¹æ³•:**
ç¢ºä¿åŒ…å« Plotly è³‡æ–™:
```python
datas += collect_data_files('plotly')
hiddenimports += collect_submodules('plotly')
```

---

## ğŸ“ æ‰“åŒ…å„ªåŒ–å»ºè­°

### 1. æ¸›å°æª”æ¡ˆå¤§å°

- æ’é™¤ä¸ä½¿ç”¨çš„å¥—ä»¶
- ä½¿ç”¨ UPX å£“ç¸® (é»˜èªå·²å•Ÿç”¨)
- ç§»é™¤æ¸¬è©¦å’Œé–‹ç™¼ç›¸é—œå¥—ä»¶

### 2. åŠ å¿«å•Ÿå‹•é€Ÿåº¦

- ä½¿ç”¨ `--onefile` æœƒè¼ƒæ…¢,å»ºè­°ä½¿ç”¨ `--onedir`
- æ¸›å°‘éš±è—å°å…¥çš„æ¨¡çµ„æ•¸é‡

### 3. æé«˜ç©©å®šæ€§

- å›ºå®šå¥—ä»¶ç‰ˆæœ¬è™Ÿ
- åœ¨ [`requirements_build.txt`](requirements_build.txt ) ä¸­æŒ‡å®šç¢ºåˆ‡ç‰ˆæœ¬
- åœ¨ä¹¾æ·¨çš„ç’°å¢ƒä¸­æ¸¬è©¦

---

## ğŸ“š åƒè€ƒè³‡æº

- [PyInstaller å®˜æ–¹æ–‡ä»¶](https://pyinstaller.org/)
- [Streamlit å®˜æ–¹æ–‡ä»¶](https://docs.streamlit.io/)
- [Python æ‰“åŒ…æŒ‡å—](https://packaging.python.org/)

---

## ğŸ’¡ ç‰ˆæœ¬æ›´æ–°å»ºè­°

ç•¶éœ€è¦ç™¼å¸ƒæ–°ç‰ˆæœ¬æ™‚:

1. æ›´æ–°ç‰ˆæœ¬è™Ÿ (åœ¨ [`ä½¿ç”¨èªªæ˜.txt`](ä½¿ç”¨èªªæ˜.txt ) ä¸­)
2. è¨˜éŒ„æ›´æ–°å…§å®¹
3. é‡æ–°æ‰“åŒ…
4. å®Œæ•´æ¸¬è©¦
5. é€šçŸ¥ä½¿ç”¨è€…æ›´æ–°

---

æœ€å¾Œæ›´æ–°: 2025å¹´10æœˆ14æ—¥
ç‰ˆæœ¬: v1.0
